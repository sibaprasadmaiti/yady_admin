<div class="content_box" id="bookingDetails">
  <h2 class="bookingDetlHdn">Booking Details</h2>
  <div><button (click)="back()" class="option_btn">Back</button>&nbsp;</div>
  <div class="row">
    <div class="col-md-8">
      <div class="card">
        <div class="card-body">
          <h5 class="bkHdn">Booking Status</h5>
          <div class="bookingStatus">
            <div
              class="bookingstInn"
              *ngIf="bookingData?.booking_status == '0'"
            >
              <div *ngIf="bookingData?.reschedule_status == '1'">
                <span class="bookstcircle"
                  ><img class="status-logo" src="./assets/img/logo.png" alt=""
                /></span>
                Booking Request
                <span class="bookstcircle"
                  ><img
                    class="status-logo"
                    src="./assets/img/logo.png"
                    alt="" /></span
                ><span class="donecircle"> Rescheduled</span>
                <span class="bookstcircle"
                  ><img class="status-logo" src="./assets/img/logo.png" alt=""
                /></span>
                Upcomming
                <span class="bookstcircle"
                  ><img class="status-logo" src="./assets/img/logo.png" alt=""
                /></span>
                Ongoing
                <span class="bookstcircle"
                  ><img class="status-logo" src="./assets/img/logo.png" alt=""
                /></span>
                Completed
              </div>
              <div *ngIf="bookingData?.reschedule_status == '0'">
                <span class="bookstcircle"
                  ><img
                    class="status-logo"
                    src="./assets/img/logo.png"
                    alt="" /></span
                ><span class="donecircle"> Booking Request</span>
                <span class="bookstcircle"
                  ><img class="status-logo" src="./assets/img/logo.png" alt=""
                /></span>
                Upcomming
                <span class="bookstcircle"
                  ><img class="status-logo" src="./assets/img/logo.png" alt=""
                /></span>
                Ongoing
                <span class="bookstcircle"
                  ><img class="status-logo" src="./assets/img/logo.png" alt=""
                /></span>
                Completed
              </div>
            </div>
            <div
              class="bookingstInn"
              *ngIf="bookingData?.booking_status == '1'"
            >
              <span class="bookstcircle"
                ><img class="status-logo" src="./assets/img/logo.png" alt=""
              /></span>
              Booking Request
              <span class="bookstcircle"
                ><img
                  class="status-logo"
                  src="./assets/img/logo.png"
                  alt="" /></span
              ><span class="donecircle"> Upcomming</span>
              <span class="bookstcircle"
                ><img class="status-logo" src="./assets/img/logo.png" alt=""
              /></span>
              Ongoing
              <span class="bookstcircle"
                ><img class="status-logo" src="./assets/img/logo.png" alt=""
              /></span>
              Completed
            </div>
            <div
              class="bookingstInn"
              *ngIf="bookingData?.booking_status == '3'"
            >
              <span class="bookstcircle"
                ><img class="status-logo" src="./assets/img/logo.png" alt=""
              /></span>
              Booking Request
              <span class="bookstcircle"
                ><img class="status-logo" src="./assets/img/logo.png" alt=""
              /></span>
              Upcomming
              <span class="bookstcircle"
                ><img
                  class="status-logo"
                  src="./assets/img/logo.png"
                  alt="" /></span
              ><span class="donecircle"> Ongoing</span>
              <span class="bookstcircle"
                ><img class="status-logo" src="./assets/img/logo.png" alt=""
              /></span>
              Completed
            </div>
            <div
              class="bookingstInn"
              *ngIf="bookingData?.booking_status == '2'"
            >
              <span class="bookstcircle"
                ><img class="status-logo" src="./assets/img/logo.png" alt=""
              /></span>
              Booking Request
              <span class="bookstcircle"
                ><img class="status-logo" src="./assets/img/logo.png" alt=""
              /></span>
              Upcomming
              <span class="bookstcircle"
                ><img class="status-logo" src="./assets/img/logo.png" alt=""
              /></span>
              Ongoing
              <span class="bookstcircle"
                ><img
                  class="status-logo"
                  src="./assets/img/logo.png"
                  alt="" /></span
              ><span class="donecircle"> Completed</span>
            </div>
            <div
              class="bookingstInn"
              *ngIf="bookingData?.booking_status == '4'"
            >
              <span class="bookstcircle"
                ><img class="status-logo" src="./assets/img/logo.png" alt=""
              /></span>
              Booking Request
              <span class="bookstcircle"
                ><img class="status-logo" src="./assets/img/logo.png" alt=""
              /></span>
              Upcomming
              <span class="bookstcircle"
                ><img class="status-logo" src="./assets/img/logo.png" alt=""
              /></span>
              Ongoing
              <span class="bookstcircle"
                ><img
                  class="status-logo"
                  src="./assets/img/logo.png"
                  alt="" /></span
              ><span class="donecircle"> Cancel</span>
            </div>
          </div>
          <!-- <h5 class="bkHdn">0 to 40</h5> -->
          <div class="bkdetlB">
            <div class="bkdImg">
              <img
                src="{{ bookingData?.cat_subcat_image }}"
                onerror="this.onerror=null;this.src='./assets/no-image.png'"
                height="100px"
              />
              <div>
                <span>Services</span>
                <p>
                  <strong>{{ bookingData?.cat_subcat_name }}</strong>
                </p>
                <span *ngIf="bookingData?.price_status == 1">Hourly Basis</span>
                <span *ngIf="bookingData?.price_status == 2">Fixed Cost</span>
              </div>
            </div>
            <!-- <div class="subscriptn">
              <span>Subscription</span>
              <p>1.5month</p>
            </div> -->
            <!-- <div class="perHour">20.00$ / Hour</div> -->
          </div>
          <h5 class="bkHdn">Options</h5>
          <div class="paymntbg">
            <div class="payLft">
              <h5 class="bkHdn">Payment</h5>
              <div class="bookingRow">
                <strong>Payment Status</strong
                ><span *ngIf="bookingData?.paid_status == 0">Pending</span
                ><span *ngIf="bookingData?.paid_status == 1">Done</span>
              </div>
              <div class="bookingRow">
                <strong>Payment Method</strong
                ><span *ngIf="bookingData?.paid_medium == 1">Online</span
                ><span *ngIf="bookingData?.paid_medium == 2">Cash</span>
              </div>
            </div>

            <div class="payRgt">
              <h5 class="bkHdn">Service Charges</h5>
              <div class="bookingRow">
                <strong>Price</strong
                ><span
                  >{{ bookingData?.price }} {{ bookingData?.currency }}</span
                >
              </div>
              <div *ngIf="bookingData?.aq_status == 2">
                <div
                  class="bookingRow"
                  *ngFor="
                    let ques of bookingData?.add_on_data_arr;
                    let i = index
                  "
                  style="font-size: 12px"
                >
                  <strong>Add-On- {{ ques.title }}</strong>
                  <span>{{ bookingData.aq_ans[i] }}</span>
                  <span></span>
                </div>
              </div>
              <div *ngIf="bookingData?.aq_status == 1">
                <div
                  class="bookingRow"
                  *ngFor="let addons of bookingData?.add_on_data_arr"
                  style="font-size: 12px"
                >
                  <strong>Add-On- {{ addons.title }}</strong>
                  <span>{{ addons.a_price }} {{ addons.currency }}</span>
                </div>
              </div>

              <div class="bookingRow" *ngIf="bookingData?.aq_status == 1">
                <strong>Total Add-Ons</strong
                ><span
                  >{{ bookingData?.add_on_cost }}
                  {{ bookingData?.currency }}</span
                >
              </div>
              <div class="bookingRow" *ngIf="bookingData?.aq_status == 2">
                <strong>Total Add-Ons</strong
                ><span
                  >{{ bookingData?.material_cost }}
                  {{ bookingData?.currency }}</span
                >
              </div>
              <div class="bookingRow" *ngIf="bookingData?.inspection_cost > 0">
                <strong>Inspection Cost</strong
                ><span
                  >{{ bookingData?.inspection_cost }}
                  {{ bookingData?.currency }}</span
                >
              </div>
              <div class="bookingRow">
                <strong *ngIf="bookingData?.promo_code != ''"
                  >Discount({{ bookingData?.promo_code }})</strong
                >
                <strong *ngIf="bookingData?.promo_code == ''">Discount</strong>
                <span *ngIf="bookingData?.promo_code_apply != ''"
                  >-{{ bookingData?.promo_code_apply }}
                  {{ bookingData?.currency }}</span
                >
                <span *ngIf="bookingData?.promo_code_apply == ''"
                  >-0 {{ bookingData?.currency }}</span
                >
              </div>
              <div class="payBordr"></div>
              <div class="bookingRow">
                <strong>Before Tax Total</strong
                ><span>{{ bookingData?.before_tax_cost }}
                  {{ bookingData?.currency }}</span>
              </div>
              <div class="bookingRow">
                <strong>Tax</strong
                ><span>{{ bookingData?.tax }} {{ bookingData?.currency }}</span>
              </div>
              <div class="payBordr"></div>
              <div class="bookingRow">
                <strong>After Tax Total</strong
                ><span>{{ bookingData?.after_tax_cost }}
                  {{ bookingData?.currency }}</span>
              </div>
              <div class="bookingRow" *ngIf="bookingData?.wallet_pay_status == 1">
                <strong>Wallet Amount Used</strong
                ><span class="totalFont"
                  >{{ bookingData?.used_wallet_money }}
                  {{ bookingData?.currency }}</span
                >
              </div>
              <div class="bookingRow" *ngIf="bookingData?.wallet_pay_status == 0">
                <strong>Wallet Amount Used</strong>
                <span class="totalFont">0 {{ bookingData?.currency }}</span>
              </div>
              <div class="payBordr"></div>
              <div class="bookingRow">
                <strong>Order Total</strong>
                <span class="totalFont">{{ bookingData?.total_cost }} {{ bookingData?.currency }}</span>
              </div>
              <div class="bookingRow">
                <strong>Additional Cost</strong>
                <span>{{ bookingData?.totalAdditionalCost }} {{ bookingData?.currency }}</span>
              </div>
              <div class="payBordr"></div>
              <div class="bookingRow">
                <strong>Total Pay</strong>
                <span class="totalFont">{{ bookingData?.total_cost + bookingData?.totalAdditionalCost }}
                  {{ bookingData?.currency }}</span>
              </div>
              <!-- <div class="payBordr"></div>
              <div class="bookingRow">
                <strong>Total</strong
                ><span
                  >{{ bookingData?.actual_cost + bookingData?.tax }}
                  {{ bookingData?.currency }}</span
                >
              </div> -->
              <!-- <div
                class="bookingRow"
                *ngFor="let bookingPause of bookingData?.pause_docs"
              >
                <strong *ngIf="bookingPause.pause_type == 1">Extra Time</strong
                ><span *ngIf="bookingPause.pause_type == 1"
                  >{{ bookingPause.cost }} {{ bookingData?.currency }}</span
                >
                <strong *ngIf="bookingPause.pause_type == 2"
                  >Extra Part
                  <span *ngIf="bookingPause.sp_reschedule_status == 1"
                    >(Res.)</span
                  ></strong
                ><span *ngIf="bookingPause.pause_type == 2"
                  >{{ bookingPause.cost }} {{ bookingData?.currency }}</span
                >
              </div> -->
              <!--<div class="bookingRow" style="padding-left: 90px">
							<span class="btn btn-outline-primary" (click)="view_pause_details(bookingData?._id)" *ngIf="bookingData?.pause_docs?.length > 0">View Details</span></div>-->

              <div class="bookingButton">
                <button
                  class="btn btn-success btn-sm"
                  (click)="onPrint('bookingDetails')"
                >
                  Print
                </button>
                <button
                  *ngIf="bookingData?.pause_docs?.length > 0"
                  class="btn btn-success btn-sm"
                  (click)="view_pause_details(bookingData?._id)"
                >
                  Extra Payment Details
                </button>
                <button class="btn btn-success btn-sm" (click)="bookingList()">
                  Booking List
                </button>
              </div>
            </div>
          </div>
          <a
            class="btn btn-success btn-sm"
            style="float: right"
            (click)="bookingImages()"
            >Booking Images</a
          >
          <a
            *ngIf="bookingData?.invoice != ''"
            class="btn btn-success btn-sm"
            style="float: right"
            href="{{ bookingData?.invoice }}"
            target="_blank"
            >Invoice</a
          >
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card">
        <div class="card-body">
          <h5 class="bkHdn" style="border-bottom: 1px solid #ccc">
            Customer Details
          </h5>
          <div class="profileTp">
            <div class="profImgbg">
              <!-- <img src="./assets/bookingusr.png" height="100px" /> -->
              <div>
                <h6>{{ bookingData?.customer_name }}</h6>
                <p>{{ bookingData?.customer_number }}</p>
                <h6 class="bkHdn">Address</h6>
                <p>{{ bookingData?.customer_address }}</p>
              </div>
            </div>
            <!-- <button class="btn btn-success">Profile</button> -->
          </div>
          <div
            class="bookingRow"
            *ngIf="
              bookingData?.booking_status == '3' &&
              bookingData?.tracking_status == '1'
            "
          >
            <!-- <strong>Open with</strong> -->
            <span>
              <button *ngIf="adminType != 3"
                class="btn btn-success"
                (click)="startTracking(bookingData?._id)"
              >
                Start Tracking
              </button>
              <!-- &nbsp;&nbsp;&nbsp;<button class="btn btn-primary" (click)="stopTrackingConfirm()">Stop Tracking</button> -->
            </span>
          </div>
        </div>
      </div>
      <div class="card" *ngIf="bookingData?.spDetails?.first_name">
        <div class="card-body">
          <h5 class="bkHdn" style="border-bottom: 1px solid #ccc">
            Service Provider Details
          </h5>
          <div class="profImgbg">
            <div>
              <h6>
                {{ bookingData?.spDetails.first_name }}
                {{ bookingData?.spDetails.last_name }}
              </h6>
              <p>{{ bookingData?.spDetails.email }}</p>
              <p>{{ bookingData?.spDetails.only_mobile_no }}</p>
            </div>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-body">
          <h5 class="bkHdn">Booking date and time</h5>
          <div class="bookingRow">
            <strong>Booking at</strong
            ><span
              >{{ bookingData?.booking_date }}
              {{ bookingData?.booking_time }}</span
            >
          </div>
          <!--<div class="bookingRow">
                        <strong>End Time</strong><span>{{bookingData?.end_time}}</span>
                    </div>-->
          <div class="bookingRow">
            <strong>Duration</strong><span>{{ bookingData?.hour }}</span>
          </div>
          <div class="bookingRow">
            <strong>Start at</strong
            ><span>{{ bookingData?.start_date_time }}</span>
          </div>
          <div class="bookingRow">
            <strong>End at</strong><span>{{ bookingData?.end_date_time }}</span>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-body">
          <h5 class="bkHdn" style="border-bottom: 1px solid #ccc">
            Instructions
          </h5>
          <div class="profImgbg">
            <div>
              <h6>{{ bookingData?.instruction }}</h6>
            </div>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-body">
          <h5 class="bkHdn" style="border-bottom: 1px solid #ccc">Notes</h5>
          <div class="profImgbg">
            <div>
              <h6>{{ bookingData?.note }}</h6>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-body">
          <h5 class="bkHdn">SR Review(Given By SP)</h5>
          <div class="bookingRow">
            <strong>Ratings</strong
            ><span>
              <i
                class="fa fa-star"
                style="color: orange"
                *ngIf="
                  bookingData?.sp_rating == 1 ||
                  bookingData?.sp_rating == 2 ||
                  bookingData?.sp_rating == 3 ||
                  bookingData?.sp_rating == 4 ||
                  bookingData?.sp_rating == 5
                "
              ></i>
              <i
                class="fa fa-star"
                style="color: orange"
                *ngIf="
                  bookingData?.sp_rating == 2 ||
                  bookingData?.sp_rating == 3 ||
                  bookingData?.sp_rating == 4 ||
                  bookingData?.sp_rating == 5
                "
              ></i>
              <i
                class="fa fa-star"
                style="color: orange"
                *ngIf="
                  bookingData?.sp_rating == 3 ||
                  bookingData?.sp_rating == 4 ||
                  bookingData?.sp_rating == 5
                "
              ></i>
              <i
                class="fa fa-star"
                style="color: orange"
                *ngIf="
                  bookingData?.sp_rating == 4 || bookingData?.sp_rating == 5
                "
              ></i>
              <i
                class="fa fa-star"
                style="color: orange"
                *ngIf="bookingData?.sp_rating == 5"
              ></i>
            </span>
          </div>
          <div class="bookingRow">
            <strong>Review</strong><span>{{ bookingData?.sp_review }}</span>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-body">
          <h5 class="bkHdn">SP Review(Given By SP)</h5>
          <div class="bookingRow">
            <strong>Ratings</strong
            ><span>
              <i
                class="fa fa-star"
                style="color: orange"
                *ngIf="
                  bookingData?.sr_rating == 1 ||
                  bookingData?.sr_rating == 2 ||
                  bookingData?.sr_rating == 3 ||
                  bookingData?.sr_rating == 4 ||
                  bookingData?.sr_rating == 5
                "
              ></i>
              <i
                class="fa fa-star"
                style="color: orange"
                *ngIf="
                  bookingData?.sr_rating == 2 ||
                  bookingData?.sr_rating == 3 ||
                  bookingData?.sr_rating == 4 ||
                  bookingData?.sr_rating == 5
                "
              ></i>
              <i
                class="fa fa-star"
                style="color: orange"
                *ngIf="
                  bookingData?.sr_rating == 3 ||
                  bookingData?.sr_rating == 4 ||
                  bookingData?.sr_rating == 5
                "
              ></i>
              <i
                class="fa fa-star"
                style="color: orange"
                *ngIf="
                  bookingData?.sr_rating == 4 || bookingData?.sr_rating == 5
                "
              ></i>
              <i
                class="fa fa-star"
                style="color: orange"
                *ngIf="bookingData?.sr_rating == 5"
              ></i>
            </span>
          </div>
          <div class="bookingRow">
            <strong>Review</strong><span>{{ bookingData?.sr_review }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
